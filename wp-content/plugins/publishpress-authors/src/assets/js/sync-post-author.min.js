(()=>{"use strict";var t={774:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(29),o=r(901),a=r(822),s=r(954),i=r(501);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}const u=function(t){function e(t){return(0,n.A)(this,e),function(t,e,r){return e=(0,s.A)(e),(0,a.A)(t,c()?Reflect.construct(e,r||[],(0,s.A)(t).constructor):e.apply(t,r))}(this,e,[t])}return(0,i.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){return wp.element.createElement("input",{type:"button",className:"button "+this.props.className,onClick:this.props.onClick,disabled:!this.props.enabled,value:this.props.label})}}])}(React.Component)},241:(t,e,r)=>{r.d(e,{A:()=>g});var n=r(29),o=r(901),a=r(822),s=r(954),i=r(501),c=r(260),u=r(3),l=r(774);function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}var f=wp.i18n.__;const g=function(t){function e(t){var r;return(0,n.A)(this,e),r=function(t,e,r){return e=(0,s.A)(e),(0,a.A)(t,p()?Reflect.construct(e,r||[],(0,s.A)(t).constructor):e.apply(t,r))}(this,e,[t]),r.startMigration=r.startMigration.bind(r),r.resetState=r.resetState.bind(r),r.migrateChunkOfData=r.migrateChunkOfData.bind(r),r.getInitialData=r.getInitialData.bind(r),r.finishCoAuthorsMigration=r.finishCoAuthorsMigration.bind(r),r.state={totalToMigrate:0,totalMigrated:0,inProgress:!1,progress:0,log:""},r}return(0,i.A)(e,t),(0,o.A)(e,[{key:"getInitialData",value:function(t){var e=this;e.setState({log:e.props.messageCollectingData}),window.setTimeout(function(){jQuery.ajax({type:"GET",dataType:"json",url:ajaxurl,async:!1,data:{action:e.props.actionGetInitialData,nonce:e.props.nonce},success:function(r){e.setState({totalToMigrate:r.total}),t()},error:function(t,r,n){e.setState({progress:0,inProgress:!1,log:f("Error: ","publishpress-authors")+n+" ["+r+"]"})}})},1e3)}},{key:"startMigration",value:function(){var t=this;t.resetState(),t.setState({progress:1,inProgress:!0,log:t.props.messageWait}),window.setTimeout(function(){t.getInitialData(function(){t.setState({progress:2,log:t.props.messageStarting}),t.migrateChunkOfData()})},1e3)}},{key:"migrateChunkOfData",value:function(){var t=this;jQuery.ajax({type:"GET",dataType:"json",url:ajaxurl,data:{action:t.props.actionMigrationStep,nonce:t.props.nonce,chunkSize:t.props.chunkSize},success:function(e){var r=t.state.totalMigrated+parseInt(e.totalMigrated);r>t.state.totalToMigrate&&(r=t.state.totalToMigrate);var n=t.props.messageProgress.replace("%d",r).replace("%d",t.state.totalToMigrate);t.setState({totalMigrated:r,progress:2+Math.floor(98/t.state.totalToMigrate*r),log:n}),r<t.state.totalToMigrate?t.migrateChunkOfData():t.finishCoAuthorsMigration(function(){t.setState({progress:100,log:t.props.messageDone.replace("%d",t.state.totalMigrated)}),window.setTimeout(function(){t.setState({inProgress:!1})},1e3)})},error:function(e,r,n){t.setState({progress:0,inProgress:!1,log:f("Error: ","publishpress-authors")+n+" ["+r+"]"})}})}},{key:"finishCoAuthorsMigration",value:function(t){var e=this;e.setState({progress:99,log:e.props.messageEndingProcess}),window.setTimeout(function(){jQuery.ajax({type:"GET",dataType:"json",url:ajaxurl,async:!1,data:{action:e.props.actionFinishProcess,nonce:e.props.nonce},success:function(){t()},error:function(t,r,n){e.setState({progress:0,inProgress:!1,log:f("Error: ","publishpress-authors")+n+" ["+r+"]"})}})},1e3)}},{key:"resetState",value:function(){this.setState({totalToMigrate:0,totalMigrated:0,inProgress:!1,progress:0,log:""})}},{key:"render",value:function(){var t=this.state.inProgress?wp.element.createElement(c.A,{value:this.state.progress}):"",e=""==this.state.log?"":wp.element.createElement(u.A,{log:this.state.log});return wp.element.createElement("div",null,wp.element.createElement(l.A,{label:this.props.buttonLabel,onClick:this.startMigration,enabled:!this.state.inProgress,className:"button-secondary ppma_maintenance_button"}),t,e)}}])}(React.Component)},3:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(29),o=r(901),a=r(822),s=r(954),i=r(501);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}const u=function(t){function e(t){return(0,n.A)(this,e),function(t,e,r){return e=(0,s.A)(e),(0,a.A)(t,c()?Reflect.construct(e,r||[],(0,s.A)(t).constructor):e.apply(t,r))}(this,e,[t])}return(0,i.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){return wp.element.createElement("div",{class:"ppma_maintenance_log",readOnly:!0},this.props.log)}}])}(React.Component)},260:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(29),o=r(901),a=r(822),s=r(954),i=r(501);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}const u=function(t){function e(t){return(0,n.A)(this,e),function(t,e,r){return e=(0,s.A)(e),(0,a.A)(t,c()?Reflect.construct(e,r||[],(0,s.A)(t).constructor):e.apply(t,r))}(this,e,[t])}return(0,i.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){return wp.element.createElement("div",{role:"progressbar",id:this.props.id,className:"p-progressbar p-component p-progressbar-determinate",style:this.props.style,"aria-valuemin":"0","aria-valuenow":this.props.value,"aria-valuemax":"100","aria-label":this.props.value},wp.element.createElement("div",{className:"p-progressbar-value p-progressbar-value-animate",style:{width:this.props.value+"%",display:"block"}}),wp.element.createElement("div",{className:"p-progressbar-label"},this.props.value," %"))}}])}(React.Component)},417:(t,e,r)=>{function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,{A:()=>n})},29:(t,e,r)=>{function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,{A:()=>n})},901:(t,e,r)=>{r.d(e,{A:()=>a});var n=r(922);function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,n.A)(o.key),o)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}},954:(t,e,r)=>{function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}r.d(e,{A:()=>n})},501:(t,e,r)=>{r.d(e,{A:()=>o});var n=r(662);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,n.A)(t,e)}},822:(t,e,r)=>{r.d(e,{A:()=>a});var n=r(284),o=r(417);function a(t,e){if(e&&("object"==(0,n.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(t)}},662:(t,e,r)=>{function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}r.d(e,{A:()=>n})},327:(t,e,r)=>{r.d(e,{A:()=>o});var n=r(284);function o(t,e){if("object"!=(0,n.A)(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=(0,n.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}},922:(t,e,r)=>{r.d(e,{A:()=>a});var n=r(284),o=r(327);function a(t){var e=(0,o.A)(t,"string");return"symbol"==(0,n.A)(e)?e:e+""}},284:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{A:()=>n})}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n=r(241);wp.i18n.__,jQuery(function(){ReactDOM.render(wp.element.createElement(n.A,{nonce:ppmaSyncPostAuthor.nonce,chunkSize:ppmaSyncPostAuthor.chunkSize,actionGetInitialData:"get_sync_post_author_data",actionMigrationStep:"sync_post_author",actionFinishProcess:"finish_sync_post_author",buttonLabel:ppmaSyncPostAuthor.buttonLabel,messageCollectingData:ppmaSyncPostAuthor.messageCollectingData,messageEndingProcess:ppmaSyncPostAuthor.messageEndingProcess,messageDone:ppmaSyncPostAuthor.messageDone,messageWait:ppmaSyncPostAuthor.messageWait,messageStarting:ppmaSyncPostAuthor.messageStarting,messageProgress:ppmaSyncPostAuthor.messageProgress}),document.getElementById("publishpress-authors-sync-post-authors"))})})();